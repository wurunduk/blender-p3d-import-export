# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](http://keepachangelog.com/en/1.0.0/)

## [Unreleased]
### Added
### Changed
### Fixed

## [1.8.0] 2024-01-14
### Added
- Blender 4.0 support
### Fixed
- Missing materials should no longer break export (default collwhite will be created to be used)
- Some text typos

## [1.7.0] 2020-12-24
### Added
- Added auto applying of object transformations on export
- Added auto-scanning for textures in relevant folders
### Fixed
- Fixed possible object bounds error which may have lead to collision bugs

## [1.6.2] ???
### Fixed
- Fixed floor_level not being used when export bounding box mode is set to 'ALL'

## [1.6.1] 2020-11-24
### Fixed 
- Fixed export when reading material name from texture name
- Fixed export when model has no uv_layers

## [1.6.0] 2020-11-24
### Added
- Added option to use texture name to use as material name, enabled by default. Needs testing, and suggestions
- Added bounding box option on export. 'Main' mode deals makep3d results, 'All' mode should make the whole model collidable
- Added option to force select a main mesh on export
- Added 'Crashday - Mesh' panel. Currently contains flags, which are saved into .p3d. Check readme for more info on flags
### Changed
- Changed plugin mesh limits from 32k to 65k. If models start to crash CD, pls report!
- Renamed 'CDRE' to 'Crashday' in panels for nicer look
### Fixed
- 'Crashday - Light' will not appear when mesh object is selected, 'Crashday - Mesh' will not appear when light is selected

## [1.5.1] 2020-11-19
### Added
- Added support for .trk exporter

## [1.5.0] 2020-11-07
### Added
- Added "CDRE - Light" panel in Light settings for setting up light export settings for each light. Includes color, range, corona, lens flares and environment lighting options
### Changed
- Material names are not exported and can be anything now
- Added a "CDRE - Material" panel for each material, containing material type and texture name (no extensions needed)

## [1.4.3] 2020-07-30
### Added
- Removed lower top and bottom bounds option
- Carinfo export will now center positions if main object is present
### Fixed
- Removed a crash when no 'floor_level' was present
- Collision box sizes are calculated using main mesh properly for non-symmetrical objects
- Fixed 'remove doubles' option
- Fixed export log creation even with 'export-log' option turned off

## [1.4.2] 2020-07-06
### Added
- Added carinfo.cca import, carinfo.txt export for managing positions and mesh list
- Added p3d model info print into python console on export
- Added option to export model with modifiers applied(Enabled by default)
- Added option to use EdgeSplit modifier when importing model
- Auto exit edit mode when exporting
- Set correct smoothing based on material when importing
- Automatically add .tga to material names on export if not present
- Empty 'floor_level' object in the scene now defines in-game floor level
- Replace unsupported characters in materials on export with '_'
### Changed
### Fixed
- Fixed unnecessary info printing on export
- If object have no materials, colwhite.tga will be used by default

## [1.4.1] - 2020-07-04
### Added
- Added support for p3d in-file material type
- Exporter now applies object scaling to the exported model
- Exporter will now auto lower case names for the p3d file
- Empty objects are now ignored on export
- Added lower and upper bounds move option on export
### Changed
- Models are now imported into collections with the name of the loaded model

## [1.4.0] - 2020-07-03
- This update is a complete rewrite of the plugin for blender version 2.83.
### Added
- Added p3d model import

## [1.3.1] - 2019-06-23
### Added
- Fixed lights not being centered on export
- Fixed wrong limits for the poly and texture amounts(thanks to Mica for reporting).

## [1.3.0] - 2019-01-27
### Added
- Meshes can now be autocentered to behave like makep3d would
- Added timestamps to the export-log.txt

## [1.2.1] - 2018-11-14
### Fixed
- Probably fixed position export.

## [1.2.0] - 2018-11-14
### Added
- export-log.txt file will be created on every export in the same folder as the export path. This logs contains info about export process and includes list of all meshes ready for carinfo.cca
### Fixed
- Collision and Trace flags are now correctly set on export, so CD should not crash when trying to load LOD's or other stuff.

## [1.1.1] - 2018-11-13
### Fixed
- Material names can now have any length.
- UV autogenerated for the end model if none are present in blender.
